---
title: Quickstart
description: Get started with MCP integration
---

<CodeGroup>
```typescript TypeScript
import Sandbox from 'e2b'
import { Client } from '@modelcontextprotocol/sdk/client/index.js';
import { StreamableHTTPClientTransport } from '@modelcontextprotocol/sdk/client/streamableHttp.js';

// Create sandbox with MCP servers
const sandbox = await Sandbox.betaCreate({
    mcp: {
        duckduckgo: {},
    },
});

// Create MCP client
const client = new Client({
    name: 'e2b-mcp-client',
    version: '1.0.0'
});

// Connect to the MCP gateway
const transport = new StreamableHTTPClientTransport(
    new URL(sandbox.betaGetMcpUrl()), 
    {
        requestInit: {
            headers: {
                'Authorization': `Bearer ${await sandbox.betaGetMcpToken()}`
            }
        }
    }
);

await client.connect(transport);

// List available tools
const tools = await client.listTools();
console.log('Available tools:', tools.tools.map(t => t.name));

// Use a tool
const result = await client.callTool({
    name: 'duckduckgo_search',
    arguments: { query: 'E2B sandboxes' }
});
console.log('Search results:', result);

// Clean up
await client.close();
await sandbox.kill();
```

```python Python
import asyncio
from e2b import AsyncSandbox
import httpx
from mcp import ClientSession
from mcp.client.sse import sse_client

async def main():
    # Create sandbox with MCP servers
    sandbox = await AsyncSandbox.beta_create(
        mcp={
            "duckduckgo": {},
        },
    )
    
    # Get MCP connection details
    mcp_url = sandbox.beta_get_mcp_url()
    mcp_token = await sandbox.beta_get_mcp_token()
    
    # Connect to MCP gateway
    async with httpx.AsyncClient() as http_client:
        async with sse_client(
            url=mcp_url,
            headers={"Authorization": f"Bearer {mcp_token}"}
        ) as (read, write):
            async with ClientSession(read, write) as session:
                await session.initialize()
                
                # List available tools
                tools = await session.list_tools()
                print('Available tools:', [tool.name for tool in tools.tools])
                
                # Use a tool
                result = await session.call_tool('duckduckgo_search', {'query': 'E2B sandboxes'})
                print('Search results:', result)
    
    # Clean up
    await sandbox.kill()

if __name__ == "__main__":
    asyncio.run(main())
```
</CodeGroup>

## From Inside the Sandbox

If you need to access the MCP gateway from within the sandbox itself, it's available at:
```
http://localhost:50005/mcp
```

You'll need to include the Authorization header with the MCP token when making requests from inside the sandbox.

## Adding to Claude Desktop

You can add the E2B MCP gateway to Claude Desktop using the CLI. First, get your MCP URL and token:

<CodeGroup>
```typescript TypeScript
const mcpUrl = sandbox.betaGetMcpUrl();
const mcpToken = await sandbox.betaGetMcpToken();
console.log(`claude mcp add --transport http e2b-mcp-gateway ${mcpUrl} --header "Authorization: Bearer ${mcpToken}"`);
```

```python Python
mcp_url = sandbox.beta_get_mcp_url()
mcp_token = await sandbox.beta_get_mcp_token()
print(f'claude mcp add --transport http e2b-mcp-gateway {mcp_url} --header "Authorization: Bearer {mcp_token}"')
```
</CodeGroup>

Then run the printed command in your terminal.

## Debugging with MCP Inspector

The [MCP Inspector](https://github.com/modelcontextprotocol/inspector) is a useful tool for debugging and testing your MCP server setup. Get the command to run:

<CodeGroup>
```typescript TypeScript
const mcpUrl = sandbox.betaGetMcpUrl();
const mcpToken = await sandbox.betaGetMcpToken();
console.log(`npx @modelcontextprotocol/inspector --transport http --url ${mcpUrl} --header "Authorization: Bearer ${mcpToken}"`);
```

```python Python
mcp_url = sandbox.beta_get_mcp_url()
mcp_token = await sandbox.beta_get_mcp_token()
print(f'npx @modelcontextprotocol/inspector --transport http --url {mcp_url} --header "Authorization: Bearer {mcp_token}"')
```
</CodeGroup>

Run the printed command in your terminal. This will open a web interface where you can:
- Browse available tools, resources, and prompts
- Test tool calls with different parameters
- Inspect request/response payloads
- Debug connection issues