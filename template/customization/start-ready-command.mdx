---
title: "Start & Ready Commands"
description: "Define running processes for the sandbox"
icon: "3"
---

## Start command
The start command allows you to specify a command that will be **already running** when you spawn your custom sandbox.
This way, you can for example have running servers or seeded databases inside the sandbox that are already fully ready when you spawn the sandbox using the SDK and with zero waiting time for your users during the runtime.

The idea behind the start command feature is to lower the wait times for your users and have everything ready for your users when you spawn your sandbox.

You can see how it works [here](/template/how-it-works).

### Logs
You can retrieve the start command's logs using the SDK during runtime.

<Note>
These logs are the logs from the start command during the build phase.
</Note>

<CodeGroup title="Check start command logs" isRunnable={false}>
```js {{ language: 'js' }}
import { Sandbox } from 'e2b'

// Spawn your custom sandbox
const sandbox = await Sandbox.create({
  id: 'my-agent-sandbox',
  // If you specify onStderr and onStdout handlers when spawning the sandbox
  // you will see logs from the start command.
  onStderr: output => console.log("stderr", output.line), // $HighlightLine
  onStdout: output => console.log("stdout", output.line), // $HighlightLine
})

// Close sandbox once done
await sandbox.close()
```

```python {{ language: 'python' }}
from e2b import Sandbox

# Spawn your custom sandbox
sandbox = Sandbox.create(
  id="my-agent-sandbox",
  # If you specify on_stderr and on_stdout handlers when spawning the sandbox
  # you will see logs from the start command.
  on_stderr=lambda output: print("stderr", output.line),  # $HighlightLine
  on_stdout=lambda output: print("stdout", output.line),  # $HighlightLine
)

# Close sandbox once done
sandbox.kill()
```
</CodeGroup>

Or you can use the CLI:

<CodeGroup isTerminalCommand>
```bash {{ language: 'bash' }}
e2b sandbox logs <sandbox-id>
```
</CodeGroup>

## Ready command
The ready command allows you to specify a command that will determine **template sandbox** readiness before a [snapshot](/template/how-it-works) is created.
It is executed in an infinite loop until it returns a successful **exit code&nbsp;0**.
This way you can control how long should we wait for the [start command](/template/customization/start-ready-command#start-command) or any system state.

## Usage

Set the command that runs when the sandbox starts and the command that determines when the sandbox is ready:

<CodeGroup dropdown>

```typescript
// Set both start command and ready command
template.setStartCmd('npm start', waitForPort(3000))

// Set only ready command
template.setReadyCmd('curl -f http://localhost:3000/health')
```

```python
# Set both start command and ready command
template.set_start_cmd("npm start", wait_for_timeout(10_000))

# Set only ready command
template.set_ready_cmd(wait_for_port(3000))
```

</CodeGroup>

The ready command is used to determine when the sandbox is ready to accept connections.

<Note>
    You can only call these commands once per template. Subsequent calls will throw an error.
</Note>

## Ready command helpers

The SDK provides helper functions for common ready command patterns:

<CodeGroup dropdown>

```typescript
import {
  waitForPort,
  waitForProcess,
  waitForFile,
  waitForTimeout,
} from 'e2b'

// Wait for a port to be available
waitForPort(3000)

// Wait for a process to be running
waitForProcess('node')

// Wait for a file to exist
waitForFile('/app/ready.txt')

// Wait for a timeout
waitForTimeout(10_000) // 10 seconds
```

```python
from e2b import wait_for_port, wait_for_process, wait_for_file, wait_for_timeout

# Wait for a port to be available
wait_for_port(3000)

# Wait for a process to be running
wait_for_process("nginx")

# Wait for a file to exist
wait_for_file("/tmp/ready")

# Wait for a specified duration
wait_for_timeout(10_000) # 10 seconds
```

</CodeGroup>
